<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
	 <link rel="icon" href="favicon.ico">
	<link rel="icon" type="image/png" sizes="12x12" href="logo.png">
	<link rel="icon" type="image/png" sizes="16x16" href="logo.png">
	<link rel="apple-touch-icon" href="logo-180.png">

<title>‚åò &lt;/&gt; HTML & CSS Live Viewer | Trustesse</title>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

  <style>
    * { box-sizing: border-box; }

    :root {
      --bg-main: #f5f5f5;
      --bg-panel: #ffffff;
      --bg-editor: #f8f9fa;
      --text-main: #212529;
      --border: #ddd;
      --primary: #0d6efd;
      --danger: #dc3545;
      --success: #198754;
    }

    body.dark {
      --bg-main: #121212;
      --bg-panel: #1e1e1e;
      --bg-editor: #1a1a1a;
      --text-main: #e9ecef;
      --border: #333;
      --primary: #4dabf7;
      --danger: #ff6b6b;
      --success: #51cf66;
    }

    body {
      margin: 0;
      height: 100vh;
      display: flex;
      font-family: Arial, sans-serif;
      background: var(--bg-main);
      color: var(--text-main);
    }

    /* Sidebar */
    .sidebar {
      width: 240px;
      background: var(--bg-panel);
      border-right: 1px solid var(--border);
      padding: 16px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .sidebar h2 {
      font-size: 14px;
      opacity: 0.7;
      text-transform: uppercase;
    }

    .menu-btn {
      padding: 10px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      color: white;
    }

    .primary { background: var(--primary); }
    .danger  { background: var(--danger); }
    .success { background: var(--success); }

    .menu-btn:hover { opacity: 0.9; }

    /* Main */
    .main {
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    header {
      background: var(--primary);
      color: white;
      padding: 12px 20px;
      font-weight: bold;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    header nav a {
      color: white;
      text-decoration: none;
      margin-left: 15px;
      font-size: 14px;
    }

    header nav a:hover {
      text-decoration: underline;
    }

    .container {
      flex: 1;
      display: grid;
      grid-template-columns: 1fr 1fr;
    }

    /* Editors */
    .editor {
      background: var(--bg-editor);
      padding: 12px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      border-right: 1px solid var(--border);
    }

    .editor-block {
      display: flex;
      flex-direction: column;
      flex: 1;
      border: 1px solid var(--border);
      border-radius: 6px;
      overflow: hidden;
      background: var(--bg-panel);
    }

    .editor-block.collapsed {
      flex: 0 0 36px;
    }

    .editor-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 6px 10px;
      font-size: 13px;
      background: var(--bg-editor);
      border-bottom: 1px solid var(--border);
    }

    textarea {
      flex: 1;
      width: 100%;
      resize: none;
      padding: 10px;
      font-family: monospace;
      font-size: 14px;
      border: none;
      background: var(--bg-panel);
      color: var(--text-main);
    }

    .editor-block.collapsed textarea {
      display: none;
    }

    /* Preview */
    .preview iframe {
      width: 100%;
      height: 100%;
      border: none;
      background: white;
    }

    footer {
      padding: 10px;
      font-size: 12px;
      border-top: 1px solid var(--border);
      background: var(--bg-panel);
      text-align: center;
    }

    footer a {
      color: var(--primary);
      margin: 0 8px;
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }
    .toggle-btn-warapper {
      cursor: pointer;
      transition: transform 0.15s ease, opacity 0.15s ease;
    }
  </style>
</head>

<body>

  <!-- Sidebar -->
  <aside class="sidebar">
    <h2>Editor Tools</h2>

    <button class="menu-btn primary" onclick="toggleCodeCollapse()">‚¨ç Toggle Code Collapse</button>
    <button class="menu-btn primary" onclick="toggleDarkMode()">üåô Dark Mode</button>
    <button class="menu-btn success" onclick="exportZip()">üì¶ Export ZIP</button>
    <button class="menu-btn danger" onclick="clearEditors()">üßπ Clear Editors</button>
  </aside>

  <!-- Main -->
  <div class="main">
    <header>
      <span>HTML & CSS Live Viewer</span>
      <nav>
        <a href="pages/about.html">About</a>
        <a href="pages/privacy.html">Privacy Policy</a>
        <a href="pages/contact.html">Contact</a>
      </nav>
    </header>

    <div class="container">
      <div class="editor">

        <div id="htmlBlock" class="editor-block">
          <div class="editor-header">
            <span>HTML</span>
            <button class="toggle-btn-warapper"  onclick="toggleTextarea('htmlBlock')">‚¨ç</button>
          </div>
          <textarea id="htmlCode">
<h1>Hello World</h1>
<p>Edit HTML here</p>
          </textarea>
        </div>

        <div id="cssBlock" class="editor-block">
          <div class="editor-header">
            <span>CSS</span>
            <button class="toggle-btn-warapper" onclick="toggleTextarea('cssBlock')">‚¨ç</button>
          </div>
          <textarea id="cssCode">
h1 { color: #0d6efd; }
          </textarea>
        </div>

      </div>

      <div class="preview">
        <iframe id="previewFrame"></iframe>
      </div>
    </div>

    <footer>
      ¬© <span id="year"></span> Trustesse |
      <a href="about.html">About</a> |
      <a href="privacy.html">Privacy Policy</a> |
      <a href="contact.html">Contact</a>
    </footer>
  </div>

<script>
  const htmlEditor = document.getElementById("htmlCode");
  const cssEditor = document.getElementById("cssCode");
  const iframe = document.getElementById("previewFrame");

  let originalHTML = htmlEditor.value;
  let isCodeCollapsed = false;

  function renderPreview() {
    const doc = iframe.contentDocument;
    doc.open();
    doc.write(`
<!DOCTYPE html>
<html>
<head>
<style>${cssEditor.value}</style>
</head>
<body>${originalHTML}</body>
</html>`);
    doc.close();
  }

  function toggleTextarea(id) {
    document.getElementById(id).classList.toggle("collapsed");
  }

 function toggleCodeCollapse() {
      if (!isCodeCollapsed) {
        originalHTML = htmlEditor.value;
        htmlEditor.value = originalHTML.replace(
          /<([a-zA-Z][a-zA-Z0-9-]*)(\s[^>]*)?>[\s\S]*?<\/\1>/g,
          (_, tag) => `<${tag}>...</${tag}>`
        );
        isCodeCollapsed = true;
      } else {
        htmlEditor.value = originalHTML;
        isCodeCollapsed = false;
      }
    }

  function toggleDarkMode() {
    document.body.classList.toggle("dark");
    localStorage.setItem("darkMode", document.body.classList.contains("dark"));
  }

  function clearEditors() {
    if (!confirm("Clear HTML & CSS?")) return;
    htmlEditor.value = "";
    cssEditor.value = "";
    originalHTML = "";
    renderPreview();
  }

  async function exportZip() {
    const zip = new JSZip();
    zip.file("index.html", originalHTML);
    zip.file("styles.css", cssEditor.value);
    const blob = await zip.generateAsync({ type: "blob" });
    const a = document.createElement("a");
    a.href = URL.createObjectURL(blob);
    a.download = "project.zip";
    a.click();
  }

  htmlEditor.addEventListener("input", () => {
    if (!isCodeCollapsed) originalHTML = htmlEditor.value;
    renderPreview();
  });

  cssEditor.addEventListener("input", renderPreview);

  if (localStorage.getItem("darkMode") === "true") {
    document.body.classList.add("dark");
  }

  renderPreview();
  document.getElementById("year").textContent = new Date().getFullYear();
</script>

</body>
</html>
